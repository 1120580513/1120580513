# 异常控制流 ECF Exceptional Control Flow

## 异常

> 当处理器检测到事件发生时，通过异常表(exception table)的跳转表，进行一个间接过程调用到异常处理程序(exception handler)

- 类别
  - 中断 来自I/O设备的信号 异步 例如网络适配器向处理器芯片的一个引脚发信号，并把异常号放到系统总线上
  - 陷阱 有意的异常 同步 主要是在用户程序和内核之间提供一个接口，也叫系统调用
    - 比如用户程序，读取一个文件，创建一个进程，加载一个程序，此时执行处理器提供的 syscall n，导致陷阱处理程序的运行
    - 用户的函数运行在用户模式，而系统调用运行在内核模式中
  - 故障 潜在可恢复的错误 同步
    - 如缺页异常，当指令引用的虚拟内存对应的物理页面不在内存中时，会发生故障，处理程序会从磁盘中加载
    - 如果处理程序不能修复这个问题，将返回到 abort 例程，abort 将终止应用程序
  - 终止 不可恢复的错误 同步
    - 如 RDAM 或 SRAM 位被损坏时
    - 直接交给 abort，abort 会终止应用程序
