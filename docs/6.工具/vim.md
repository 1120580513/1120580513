# Vim

<img src="/img/vim_cheat_sheet_for_programmers_print.png" />

## 模式

|  |  |  |
| :-----| :---- | :---- | 
| Normal | 普通 | 可直接用 vim 的命令 |
| Insert  | 插入 | 输入文本 |
| Visual  | 可视 | 选择文本 |
| Select  | 选择 | 用鼠标选择 |
| Command line  | 命令行 |  |
| Ex  |  |  |

## 文本对象

- y、d、c、v 后可跟文本对象

|  |  |
| :-----| :---- |
| h | 左边一字符 |
| l | 右边一字符 |
| w | 词 |
| s | 句 |
| p | 段 |
| b | 块 |

## 光标的移动

- 可配合 n 使用

|  |  |
| :-----| :---- |
| + 或 enter | 移至下一行第一个非空字符 |
| - | 移至上一行第一个非空字符 |
| ( | 前一句 |
| ) | 后一句 |
| { | 前一段 |
| } | 后一段 |
| f{c} | 同行的下个字符处 |
| F{c} | 同行的上个字符处 |
| t{c} | 同行的下个字符前 |
| T{c} | 同行的上个字符后 |
| ; |  配合f&t，重复一次 |
| , |  配合f&t，反向重复一次 |
| Ctrl+o | 上次光标的位置 |
| Ctrl+i | 下次光标的位置 |
| * | 向下搜索光标所在词 |
| # | 向上搜索光标所在词 |
| gd | 转到局部变量定义处 |
| gD | 转到全局定义处 |
| % | 在括号之间跳转 |

---

|  |  |
| :-----| :---- |
| 0 | 行首 |
| ^ | 当前行第一个非空白处 |
| $ | 行尾 |
| n\| | 第n列 |
| H | 屏幕顶行 |
| M | 屏幕中行 |
| L | 屏幕底行 |

## 翻屏

|  |  |
| :-----| :---- |
| Ctrl+f | 下一屏 |
| Ctrl+b | 上一屏 |
| Ctrl+d | 下半屏 |
| Ctrl+u | 上半屏 |
| Ctrl+e | 下一行 |
| Ctrl+y | 上屏 |
| n% | 文件n%的位置 |
| zz | 把当前行移到屏幕中 |
| zt | 把当前行移到屏幕顶 |
| zb | 把当前行移到屏幕底 |

## 标记（仅用于当前文件）

|  |  |
| :-----| :---- |
| m{a-z} | 标记光标位置，局部标记 |
| m{A-Z} | 标记光标位置，全局标记（重启时仍生效） |
| ·{a-z} | 移动到标记的位置 |
| '{a-z} | 移动到标记的行首 |
| :marks | 显示所有标记 |
| :delmarks! | 删除当前缓冲区所有标记 |

## 插入、替换

- 先按 n 再按 i 再输入 {char} 再按 Esc 则出现 n 个 {char}
- :![command] 可执行命令

|  |  |
| :-----| :---- |
| r | 替换当前字符 |
| R | 进入替换模式 |
| I | 当前行第一个非空字符前插入 |
| gI | 当前行第一列插入 |
| A | 当前行最后插入 |
| O | 上面新建一行插入 |
| c 或 s | 修改（需要文本对象） |
| {n}cl 或 c{n}l 或 {n}s | 改写光标后的{n}个字母 |
| {n}ch 或 c{n}h | 改写光标前的{n}个字母 |
| cc 或 C | 修改当前行 |
| {n}S | 修改{n}行 |
| :r [file_name] | 读取另一文件内容插入 |
| :r !date | 插入当前时间 |

## 复制、剪贴、粘贴

|  |  |
| :-----| :---- |
| y | 复制所选内容 |
| yy 或 Y | 复制当前行 |
| d | 删除并剪贴 |
| dd | 删除并剪贴一行 |
| x | 剪贴字符 |
| X | 退格 |
| p | 光标之后粘贴 |
| P | 光标之前粘贴 |
| Ctrl+Ins | 系统复制 |
| Shift+Ins | 系统粘贴 |
| [cdt][ai][symbol] | 【修改、剪贴、复制】【是否包含插页的[symbol]】【符号】 |


## 撤消、重置做

|  |  |
| :-----| :---- |
| u | 取消上个改动 |
| Ctrl+r | 重做最后的改动 |
| U | 取消当前行的所有改动 |

## 查找、替换

|  |  |
| :-----| :---- |
| /[str] | 向后查找 |
| ?[str] | 向前查找 |
| n | 向后下一个 |
| N | 向前下一个 |

### 替换

- :[range]s/[old]/[new]/[gci]
- :[range]g/[pattern]/[mode] [command]

|  |  |
| :-----| :---- |
| g | 替换当前行所有匹配 |
| c | 每次替换都要手动确认 |
| i | 忽略大小写 |

#### [range]

|  |  |
| :-----| :---- |
| % | 所有行 |
| [n1],[n2] | 替换n1到n2行的内容 |
| 0 | 从第一行开始 |
| $ | 到最后一行 |
| % | 所有行 |
| . | 当前行 |

## 排版

|  |  |
| :-----| :---- |
| J | 拼接当前行和下一行 |
| gJ | 拼接当前行和下一行，并保留空格 |
| gq | 对选中的文本重新排版，过长则会自动断行 |
| :le(ft) | 本行靠左 |
| :ce(nter) | 本行靠中 |
| :ri(ght) | 本行靠右 |

## 宏

- .：重复上一个编辑动作
1. qa：开始录制宏 a
2. q：停止录制
3. @a：播放宏 a

## 窗口

|  |  |
| :-----| :---- |
| Ctrl+w s | 上下分割当前文件 || :sp filename | 上下分割指定文件 |
| Ctrl+w v | 左右分割当前文件 |
| :vsp filename | 左右分割指定文件 |
| Ctrl+w 再按方向键 | 窗口跳转 |
| Ctrl+w c | 关闭当前窗口 |
| Ctrl+w s | 关闭当前窗口，如果是最后一个则直接退出 |
| Ctrl+w w | 移动至下个的屏中 |
| Ctrl+w l | 移动至右边的屏 |
| Ctrl+w h | 移动至左边的屏 |
| Ctrl+w k | 移动至上边的屏 |
| Ctrl+w j | 移动至下边的屏 |
| Ctrl+W L | 向右移动 |
| Ctrl+W H | 向左移动 |
| Ctrl+W K | 向上移动 |
| Ctrl+W J | 向下移动 |
| Ctrl+W = | 所有屏等高 |
| Ctrl+W + | 增加高度 |
| Ctrl+W - | 减少高度 |

## 目录浏览窗口

|  |  |
| :-----| :---- |
| :E | 进入界面选择 |
| :ls | 查看文件缓冲区 |
| :buffer | 切换缓冲区文件 |
| :He | 在下边分屏浏览目录 |
| :He! | 在上边分屏浏览目录 |
| :Ve | 在左边分屏浏览目录 |
| :Ve! | 在右边分屏浏览目录 |
| :Te | 分页式浏览 |
| :Te，gt，gT | 下一页，上一页 |
